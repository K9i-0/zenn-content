---
title: "MCPの3つの欠点 - よりよく使うために知っておきたいこと"
emoji: "🐙"
type: "idea"
topics: ["MCP", "AI", "LLM", "Claude", "Anthropic", "AIエージェント",]
published: false
---

MCPが銀の弾丸のように過信されているように感じます。実際には便利で強力なツールですが、設計上の制限と課題があります。**MCPを批判するのではなく、より良く使うために欠点を理解すること**が大切です。

## MCPの3つの欠点

### 1. AIエージェントは必ずしもMCPが得意でない

LLMはコード作成での訓練は豊富ですが、**ツール呼び出しの訓練データは非常に限定的**です。実際のツール呼び出し例は合成データのみに基づいており、自然言語に存在しない特殊なトークン体系で構成されています。

そのため、LLMはTypeScriptやCLIツールの方が上手く扱えることが多いです。あなたも経験したのではないでしょうか？**GitHub MCPよりも`gh`コマンドの方が上手くいく**という経験。これは必ずしも実装の問題ではなく、**LLMの学習特性による根本的な限界**なのです。

### 2. MCPツールの事前ロードでコンテキストが圧迫される

AIエージェントを使う際、**コンテキストウィンドウの制御は性能を大きく左右します**。適切な粒度のタスクに対して、必要なコンテキストだけを与えることが重要です。

MCPを使う場合、事前にツール情報をコンテキストとして与える必要があります。数千のツールに接続する場合、**リクエスト読み込み前に数十万トークンの処理が必要**になります。実例を挙げれば：

- 従来のMCP: 150,000トークンのツール定義
- Code Mode（Cloudflareの代替案）: 2,000トークン（**98.7%削減**）

数が少ないツールでも影響はあります。Obsidian MCPを入れたら、指示してないのに勝手にObsidianに保存し始めた経験はありませんか？**これはツール定義がコンテキストを支配し、意図しない動作を引き起こしている**良い例です。

### 3. MCPのやり取り情報もコンテキストを圧迫する

さらに厄介なのは、**MCPクライアントとエージェント間のやり取り自体がコンテキストを消費する**ということです。

具体例を挙げます。Google DriveのトランスクリプトをSalesforceに転送するタスクを考えてください。2時間の会議録音を処理する場合、**完全なトランスクリプトがツール呼び出しの前後で複数回通過**します。結果として、約50,000トークンの追加処理が発生します。

コンテキストが埋まれば、本来のタスク遂行に直接的な悪影響を及ぼします。

## MCPは万能ではない

MCPは便利で強力です。しかし、これらの欠点を理解した上で使う必要があります。

**用途に応じた使い分けが大切です。**複雑なデータ処理には向かないかもしれません。その場合は、code executionやCloudflareの「Code Mode」のような代替案を検討する価値があります。

MCPの欠点を知ることは、それを**より効果的に活用するための第一歩**です。

---

## 参考

- [Cloudflare: Code Mode](https://blog.cloudflare.com/code-mode/) - MCPの限界を指摘し、コード実行による代替案を提示
- [Anthropic: Code Execution with MCP](https://www.anthropic.com/engineering/code-execution-with-mcp) - MCPのコンテキスト課題と設計について詳しく説明
