---
title: "Freezed用VS Codeスニペット作ってみた"
emoji: "😎"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Flutter", "VSCode", "Dart"]
published: true
---
VS Codeのスニペット機能を使うと面倒なFreezedの記述を楽にできます。
# State用
## スニペット
```json
{
    "Freezed State": {
        "prefix": "freezedstate",
        "body": [
            "// ignore: unused_import",
            "import 'package:flutter/foundation.dart';",
            "import 'package:freezed_annotation/freezed_annotation.dart';",
            "",
            "part '$TM_FILENAME_BASE.freezed.dart';",
            "",
            "@freezed",
            "abstract class ${1:${TM_FILENAME_BASE/(.*)/${1:/pascalcase}/g}} with _$${1} {",
            "  const factory ${1}({",
            "    required ${2:String id},",
            "  }) = _${1};",
            "}",
        ],
        "description": "Freezed State"
    },
}
```

一部解説
1. // ignore: unused_importは保存時のimport修正でfoundationのimportが消えないようにしてます。
2. TM_FILENAME_BASEでファイル名からpartを埋めます
3. ${1:${TM_FILENAME_BASE/(.*)/${1:/pascalcase}/g}}でファイル名をパスカルケースに変換してクラス名を自動で決めてます。

## 使用例
hoge_state.dartというファイルでfreezedstate入力すると以下のようになります。
```dart:hoge_state.dart
// ignore: unused_import
import 'package:flutter/foundation.dart';
import 'package:freezed_annotation/freezed_annotation.dart';

part 'hoge_state.freezed.dart';

@freezed
abstract class HogeState with _$HogeState {
  const factory HogeState({
    required String id,
  }) = _HogeState;
}
```
# Json変換用
## スニペット
```json
{
    "Freezed Json": {
        "prefix": "freezedjson",
        "body": [
            "// ignore: unused_import",
            "import 'package:flutter/foundation.dart';",
            "import 'package:freezed_annotation/freezed_annotation.dart';",
            "",
            "part '$TM_FILENAME_BASE.freezed.dart';",
            "part '$TM_FILENAME_BASE.g.dart';",
            "",
            "@freezed",
            "abstract class ${1:${TM_FILENAME_BASE/(.*)/${1:/pascalcase}/g}} with _$${1} {",
            "  const factory ${1}({",
            "    required ${2:String id},",
            "  }) = _${1};",
            "  ",
            "  factory ${1}.fromJson(Map<String, dynamic> json) => _$${1}FromJson(json);",
            "}",
        ],
        "description": "Freezed Json"
    },
}
```
## 使用例
hoge_entity.dartというファイルでfreezedjson入力すると以下のようになります。
```dart:hoge_entity.dart
// ignore: unused_import
import 'package:flutter/foundation.dart';
import 'package:freezed_annotation/freezed_annotation.dart';

part 'hoge_entity.freezed.dart';
part 'hoge_entity.g.dart';

@freezed
abstract class HogeEntity with _$HogeEntity {
  const factory HogeEntity({
    required String id,
  }) = _HogeEntity;
  
  factory HogeEntity.fromJson(Map<String, dynamic> json) => _$HogeEntityFromJson(json);
}
```