---
title: "riverpod_generator入門"
emoji: "👾"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["flutter", "riverpod", "riverpodgenerator"]
published: false
---
## はじめに
riverpod_generatorを知っていますか？
riverpod_generatorはコード生成でプロバイダーを定義するriverpodのサイドパッケージです。公式でもコード生成に抵抗がなければ、riverpod_generatorを使うことを推奨しています。

https://pub.dev/packages/riverpod_generator

## riverpod_generatorを使うメリット
riverpod_generatorを使ういくつかのメリットがあります。
また、この記事では今後riverpod_generatorを使ったプロバイダーをGeneratedProvider、これまでのプロバイダーをManualProviderと呼びます（lint名などでこう書かれています）。

### シンプルな構文
GeneratedProviderでは、StateNotifierProviderなど一部のProviderを廃止することでシンプルな構文を実現しています。
具体的にはGeneratedProviderを書く構文は、StatelessとStatefulの2種類しかありません。
#### Stateless
ManualProviderのころからあるProvider、FutureProvider、StreamProviderが属します。
Stateless系のProviderは初期化後の値を変更できません。

Statelessの場合Providerは関数として定義します。
関数の返り値の型によってProvider、FutureProvider、StreamProviderのいずれかが生成されます。

```dart
// hogeProviderを作る場合
@riverpod
String hoge(HogeRef ref) {
  return "hoge";
}
```

#### Stateful
riverpod_generatorのために新しく追加されたNotiferProvider、AsyncNotifierProvider、StreamNotifierProviderが属します。、StreamProviderが属します。
Stateful系のProviderは初期化後の値をStateとして持ち、Stateを更新することができます。

Statefulの場合Providerはクラスとして定義します。
buildメソッドの返り値の型によってNotiferProvider、AsyncNotifierProvider、StreamNotifierProviderのいずれかが生成されます。

```dart
// hogeProviderを作る場合
@riverpod
class Hoge extends _$Hoge {
  @override
  HogeState build() {
    return const HogeState();
  }

  void huga() {
    // ここでstateを操作
  }
}
```

### 強力なlintサポート

### Familyプロバイダーで引数の自由度が高い

## 始め方

## まとめ