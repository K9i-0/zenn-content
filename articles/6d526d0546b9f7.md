---
title: "ã‚¿ã‚³ã§ã‚‚ã‚ã‹ã‚‹Dartãƒã‚¯ãƒ­ä½œæˆå…¥é–€"
emoji: "ğŸ™"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['flutter', 'dart', 'macros']
publication_name: yumemi_inc
published: false
---
## ã¯ã˜ã‚ã«
:::message
Dart 3.4ç™ºè¡¨ç›´å¾Œã®è¨˜äº‹ãªã®ã§ã€æ•°ãƒ¶æœˆå¾Œã«ã¯å¤ã„æƒ…å ±ã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚
:::

Google I/O 2024ã§Flutterç™ºè¡¨ã®ç›®ç‰ã®ä¸€ã¤ã¨ã—ã¦ã€Dartã®ãƒã‚¯ãƒ­(macros)æ©Ÿèƒ½ãŒç™ºè¡¨ã•ã‚Œã¾ã—ãŸã€‚
ã“ã‚Œã¾ã§ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã«é ¼ã£ã¦ã„ãŸJsonã®ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºãƒ»ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã€ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ä½œæˆãŒã‚ˆã‚ŠåŠ¹ç‡çš„ã«è¡Œãˆã‚‹ã¨ã„ã†ã“ã¨ã§æ³¨ç›®ã•ã‚Œã¦ã„ã¾ã™ã€‚

ã‚ˆã‚Šè©³ã—ã„æƒ…å ±ã¯Dart 3.4ã®Mediumè¨˜äº‹ã‚’ã©ã†ã
https://medium.com/dartlang/dart-3-4-bd8d23b4462a


## ãƒã‚¯ãƒ­ã‚’è‡ªåˆ†ã§ã‚‚ä½œã£ã¦ã¿ãŸã„

ãƒã‚¯ãƒ­ã¯Dartã®devç‰ˆã€Flutterã®masterç‰ˆã§ã™ã§ã«åˆ©ç”¨å¯èƒ½ã§ã™ã€‚
æµ·å¤–ã®ã¤ã‚ˆã¤ã‚ˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒã„ãã¤ã‹ãƒã‚¯ãƒ­ã‚’å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚

Dartå…¬å¼ã®JsonCodableãƒã‚¯ãƒ­
https://pub.dev/packages/json

Remiã•ã‚“ã®ãƒã‚¯ãƒ­ç‰ˆFreezed
https://pub.dev/packages/freezed/versions/3.0.0-0.0.dev

Felangelã•ã‚“ã®ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ãƒã‚¯ãƒ­
https://pub.dev/packages/data_class_macro

ã“ã‚Œã‚‰ãƒã‚¯ãƒ­ã‚’è©¦ã™åˆ†ã«ã¯ã„ã„ã®ã§ã™ãŒã€å€‹äººçš„ã«ã¯ã‚‚ã£ã¨ç°¡å˜ãªã‚µãƒ³ãƒ—ãƒ«ãŒã¿ãŸã„ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚(ä½œã£ã¦ã‚‹äººãŸã¡ãŒã™ã”ã™ãã¦å®Ÿè£…ãŒé«˜åº¦ğŸ¥¹)

## ç°¡å˜ãªãƒã‚¯ãƒ­ã‚’ä½œã£ã¦ã¿ãŸ

ãã†ã„ã†è¨³ã§éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ãªHello World!ã¨ãƒ—ãƒªãƒ³ãƒˆã™ã‚‹ã ã‘ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç”Ÿã‚„ã™ãƒã‚¯ãƒ­ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚

https://github.com/K9i-0/k9i_macro_sample

```dart
@Hello()
class Sample {}
```

ã¨ã™ã‚‹ã¨ã“ã†ã„ã†ã‚³ãƒ¼ãƒ‰ãŒä½œã‚‰ã‚Œã¦

```dart
augment class Sample {
  void hello() => print("Hello, World!");
}
```

mainãƒ¡ã‚½ãƒƒãƒ‰ã§åˆ©ç”¨ã§ãã¾ã™ã€‚
```dart:main.dart
@Hello()
class Sample {}

void main() {
  final sample = Sample();
  sample.hello();
}
```

å®Ÿè¡Œæ™‚ã¯ã“ã®ã‚ˆã†ã«ã™ã‚Œã°ã€Hello World!ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
```zsh
$ dart --enable-experiment=macros run main.dart 
$ Hello, World!
```

## ä½œã‚Šæ–¹

ãã‚Œã§ã¯ã“ã®ãƒã‚¯ãƒ­ã®ä½œã‚Šæ–¹ã§ã™ã€‚

### devç‰ˆã®Dartã‚’å…¥ã‚Œã‚‹
è¨˜äº‹åŸ·ç­†æ™‚ç‚¹ã§ã¯ãƒã‚¯ãƒ­ã‚’ä½¿ã†ã®ã«devç‰ˆã®DartãŒå¿…è¦ã§ã™ã€‚

ä»Šå›ã¯åŒåƒšã®[ãŠã‹ã‚„ã¾ã‚“ã•ã‚“](https://zenn.dev/blendthink)