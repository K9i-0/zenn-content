---
title: "【Flutter】iOS, macOSをアプデした後でiOS向けビルドが通らないときの対処法"
emoji: "🐙"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["flutter", "ios"]
published: false
---
## はじめに
iOS, macOSをアプデしたあとiOSの実機ビルドができなくなる場合があります。

具体的には以下のようなエラーが吐かれます。

```
Failed to build iOS app
Could not build the precompiled application for the device.
════════════════════════════════════════════════════════════════════════════════
Building a deployable iOS app requires a selected Development Team with a 
Provisioning Profile. Please ensure that a Development Team is selected by:
  1- Open the Flutter project's Xcode target with
       open ios/Runner.xcworkspace
  2- Select the 'Runner' project in the navigator then the 'Runner' target
     in the project settings
  3- Make sure a 'Development Team' is selected under Signing & Capabilities > Team. 
     You may need to:
         - Log in with your Apple ID in Xcode first
         - Ensure you have a valid unique Bundle ID
         - Register your device with your Apple Developer Account
         - Let Xcode automatically provision a profile for your app
  4- Build or run your project again

For more information, please visit:
  https://flutter.dev/docs/get-started/install/macos#deploy-to-ios-devices

Or run on an iOS simulator without code signing
════════════════════════════════════════════════════════════════════════════════
```

文面通りだとTeam情報を設定しなおせば直りそうですが、それで直らないときXcodeのバージョンが足りていない場合があります。

## 解決策
Xcodeのバージョンを上げることで解決する場合があります。
自分の場合以下の組み合わせでエラーになっていたところ、Xcodeを最新(14.3)にしたら直りました。
| iOS | macOS | Xcode |
| ---- | ---- | ---- |
| 16.4 | 13.3 | 14.2 |

### 補足
Xcodeアプデ後、一度XcodeからiOSビルドしないとVS CodeでのFlutterビルドが通らないケースがあります。

### おすすめツール
Xcodes.appというアプリを使うとApp Storeより高速にXcodeがインストールできておすすめです。
https://github.com/RobotsAndPencils/XcodesApp


![](/images/SCR-20230331-asr.png)

## まとめ
OSをアプデしたらFlutterのiOSビルドが通らなくなった😭というときの対処法でした。